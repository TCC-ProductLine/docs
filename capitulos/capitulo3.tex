\chapter{Proposta}
\label{chapter:Proposta}

A seguir será apresentado cada ponto proposto em tópicos mais detalhados. Dessa forma, o capitulo está organizado para apresentar a visão geral do \textit{framework} proposto, enfatizado como o mesmo será utilizado, e alguns trabalhos relacionados.

Ao final deste capítulo, pretende-se que o leitor forme uma ideia mais concreta sobre a proposta deste trabalho.

\section{O Framework}

A proposta deste trabalho é desenvolver um \textit{framework} que auxilie no desenvolvimento de redes sociais. Este \textit{framework} deve oferecer recursos gerais com toda a lógica de usuários e relacionamentos, e recursos mais específicos para redes sociais baseadas em rotas e agendas. O recurso de rotas deve ser capaz de fazer um mapeamento de rotas de interesse de um determinado usuário e auxiliar este a fazer comparações com rotas de outros usuários. A agenda deve oferecer recursos de controle de ocupações no decorrer de dias e horários e auxiliar um usuário a encontrar dias e/ou horários comuns entre um grupo de usuários qualquer.

Parte do \textit{framework} será extensível, possibilitando ao desenvolvedor reutilizá-lo a partir de seus pontos flexíveis, modelados e implementados usando o conceito de herança. O desenvolvedor poderá, portanto, acrescentar e/ou alterar suas implementações conforme as suas necessidades. O \textit{framework}, por si só, oferecerá recursos que poderão ser reutilizados diretamente pelo desenvolvedor, não necessitando estendê-los. A extensibilidade só será necessária caso sejam desejados níveis de especificidade maiores.

A seguir, têm-se um maior detalhamento de cada um dos três principais componentes fornecidos pelo \textit{framework}.

\subsection{Relacionamento de Usuários}

O relacionamento em redes sociais dá-se por meio de interações entre os usuários. Estas interações variam de acordo com a rede em que o usuário está inserido. Alguém pode apenas seguir outras pessoas e acompanhar suas postagens. Este é um relacionamento unidirecional, pois não é necessário que uma pessoa seguida acompanhe também postagens de seus seguidores. Existe também outro tipo de relacionamento, onde é necessário que as duas pessoas estejam diretamente ligadas entre si, o que o torna necessariamente bidirecional. Neste tipo, podem ser considerados relacionamentos entre conhecidos, amigos, namorados, familiares, entre outros.

Na montagem da estrutura de relacionamentos entre os usuários para redes sociais, é necessário fazer uso de grafos, onde os usuários serão representados como os vértices e os relacionamentos como as arestas. No caso dos relacionamentos unidirecionais, apenas uma aresta é criada. Esta aresta faz uma ligação a partir do vértice do usuário seguidor para o vértice do usuário que este deseja seguir, como pode ser observado na Figura \ref{segue}. No caso dos relacionamentos bidirecionais, a ligação deverá ser feita usando-se duas arestas. É necessário que para ambos os usuários exista uma possibilidade de se chegar ao outro, portanto, deve existir uma aresta que ligue um usuário ``A'' a um usuário ``B'' e uma aresta que ligue o usuário ``B'' ao usuário ``A'', vide a Figura \ref{amigo}.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.45]{figuras/capitulo3/segue.eps}
	\caption{Exemplo de aresta de seguir usuário}
	\label{segue}
\end{figure}

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.55]{figuras/capitulo3/amigo.eps}
	\caption{Exemplo de aresta bidirecional de amizade}
	\label{amigo}
\end{figure}

Cada aresta deverá possuir uma ou mais descrições que detalham qual o relacionamento entre os usuários. Isso fica mais claro ao se falar de relacionamentos bidirecionais, onde pode existir entre duas pessoas um relacionamento de amizade e parentesco, por exemplo. Esse relacionamento pode ser visualizado na Figura \ref{parentes}.

\newpage

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.55]{figuras/capitulo3/parentes.eps}
	\caption{Exemplo de aresta bidirecional de parentesco}
	\label{parentes}
\end{figure}

\subsection{Controle de Rotas}

Rota\footnote{\url{http://www.dicio.com.br/rota/}} é um itinerário que se percorre para ir de um lugar a outro, indicando a direção ou rumo a ser percorrido. Um exemplo de rota pode ser visualizado na Figura \ref{rota}.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.55]{figuras/capitulo3/rota.eps}
	\caption[Exemplo de rota]{Exemplo de rota\footnotemark}
	\label{rota}
\end{figure}
\footnotetext{\url{http://sede.wikidot.com/andy-s-brainstorm}}

O \textit{framework} oferece recursos que auxiliem o usuário a definir as rotas que percorrem e buscar rotas de outros usuários que coincidam em parte ou integralmente com as suas. Redes sociais podem utilizar estes dados para aplicações diversas como, por exemplo, caronas e encontros para ciclistas.

Conforme mostrado na Figura \ref{rota}, pode-se ver uma rota que leva do ponto ``0'' ao ponto ``5''. Podem existir diversos usuários com rotas comuns nesse caminho, por exemplo, um usuário que siga todo o caminho traçado, ou um usuário que partisse do ponto ``2'' e chegasse ao ponto ``4'' e assim por diante. Uma das funcionalidades do \textit{framework}, neste contexto, seria encontrar todos os usuários que compartilhassem esses caminhos, ou encontrar um caminho compartilhado entre um grupo de usuários, por exemplo.

\subsection{Controle de Agenda}

Outra funcionalidade que o \textit{framework} fornece é a conciliação de agendas entre os usuários, possibilitando assim encontrar dias da semana e horários específicos que são comuns a um determinado grupo. Esta funcionalidade pode auxiliar os usuários em diversos aspectos como, por exemplo, encontrar um horário em comum para realizar uma tarefa.

A Figura \ref{agenda semanal} mostra um exemplo de uma agenda semanal com todos os horários livres.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.55]{figuras/capitulo3/agenda_semanal.eps}
	\caption[Exemplo de agenda semanal]{Exemplo de agenda semanal\footnotemark}
	\label{agenda semanal}
\end{figure}
\footnotetext{\url{http://universovocesaude.com.br/wp-content/uploads/2014/08/horario-semanal_JPG.jpg}}

Agendas dessa forma auxiliam usuários a terem um melhor controle de suas tarefas semanais, marcarem eventos, entre outros aspectos. O período compreendido por uma agenda pode variar de acordo com cada contexto. Pode ser uma agenda semanal, conforme a apresentada, mensal, anual, ou ainda um período não necessariamente pré-definido, o que poderia auxiliar usuários a marcarem eventos para datas futuras. De modo simplificado, basta dados como dia e horários de início e fim de uma tarefa para aplicar um controle de agenda.

O \textit{framework} oferece o suporte para criação de agendas conforme apresentado. Assim, é possível a partir de um período pré-determinado encontrar um horário e dia comuns a um conjunto de usuários. Isso pode auxiliar a criação e marcação de eventos visando atender o maior número de usuários, conforme o contexto da aplicação.

\subsection{Modelo Inicial}

A Figura \ref{diagrama de componentes} apresenta os principais componentes que são oferecidos pelo \textit{framework}. Fica evidenciado, no modelo, o relacionamento de \textit{Users} com \textit{Routes} e \textit{Schedules}. Em cada um desses componentes, existe classes que implementam todo o modelo e as regras de negócio propostas.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.55]{figuras/capitulo3/diagrama_componentes.eps}
	\caption{Diagrama de componentes inicial}
	\label{diagrama de componentes}
\end{figure}

O diagrama mostra apenas um modelo preliminar que deu base para a implementação das funcionalidades propostas. Cada componente conterá algoritmos relacionados e aplica padrões de projetos que se encaixem, buscando a melhor qualidade, soluções reutilizáveis e fácil manutenção e evolução.

\section{Uso do Framework}

O \textit{framework} é \textit{opensorce} e desenvolvido em \textit{``Ruby on Rails''} e tem sua \textit{``Gem''}\footnote{\url{httpttp://www.akitaonrails.com/2009/2/2/entendendo-rubygems}} publicada em um repositório \textit{online} para uso de outros desenvolvedores.

Para comprovação do funcionamento do \textit{framework}, este trabalho se propos a desenvolver uma rede social que faça uso do mesmo. Esta rede faz uso dos principais recursos providos pelo \textit{framework}. Possibilitando assim avaliar o seu uso na prática.

A Figura \ref{uso_proposto} apresenta um modelo que procura ilustrar e contextualizar um possível uso para o \textit{framework}.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.45]{figuras/capitulo3/uso_proposto.eps}
	\caption{Modelo ilustrando um possível uso do \textit{Framework}}
	\label{uso_proposto}
\end{figure}

O modelo apresentado na Figura \ref{uso_proposto} mostra a instanciação do \textit{framework}  visando o desenvolvimento de uma rede social. Essa instanciação traz consigo toda a implementação desenvolvida no \textit{framework} e a disponibiliza para ser usada na aplicação. Ao analisar a Figura \ref{uso_proposto}, percebe-se um \textit{framework} \textit{``black box''}. Entretanto, a real proposta apresenta um \textit{framework} \textit{``grey box''}, pois, grande parte das classes disponibilizadas podem ser estendidas e ter os métodos alterados, ou atributos acrescentados, entre outros aspectos. Ressalta-se ainda, que os componentes mostrados no diagrama na seção anterior são disponibilizados como pacotes na forma de \textit{hotspots} \cite{Franca:2001} garantindo, assim, uma maior flexibilidade ao desenvolvedor na escolha dos componentes que serão utilizados.

Seguindo ainda o modelo na Figura \ref{uso_proposto}, é indicado o uso de serviços \textit{RESTFul} para a aplicação desenvolvida. Esses serviços reforçam mais uma vez a ideia de reutilização de software ao fornecerem recursos simples e leves para utilização em dispositivos móveis, por exemplo, sem a necessidade de replicação da lógica de negócio desenvolvida por trás da aplicação. Contudo, esse é um uso recomendado, e cabe ao desenvolvedor disponibilizar esses serviços em sua rede social.

Com o objetivo de entender detalhes básicos de redes sociais, e compreender algumas das dificuldades para o pleno desenvolvimento do \textit{framework} proposto foi desenvolvido uma \nameref{chap:prova_conceito}. Essa prova de conceito procurou lidar com uma funcionalidade chave em redes sociais, no caso, o relacionamento de usuários. Portanto, foi um passo inicial para o desenvolvimento da proposta. O desenvolvimento completo foi realizado na segunda parte deste trabalho, conforme evidenciado no fluxo de trabalho bem como no cronograma, ambos apresentados no capítulo de ~\nameref{chapter:Metodologia}.

\section{Trabalhos Relacionados}

Em algumas pesquisas relacionadas sobre trabalhos parecidos com o que se propos, pode-se encontrar alguns sistemas semelhantes, os quais serão apresentados a seguir.

Existe uma comparação entre vinte e cinco plataformas, as quais permitem começar um serviço de rede social\footnote{\url{http://www.tripwiremagazine.com/2010/07/25-best-social-networking-platforms-to-start-your-own-service.html}}  próprio. Porém, algumas das plataformas apresentadas são pagas ou não são voltadas para desenvolvedores, ou seja, são plataformas que fornecem funcionalidades para usuários comuns poderem montar uma rede social a partir de um \textit{template} visual já definido.

A Tabela \ref{comparacao} apresenta um comparativo entre algumas das plataformas que apresentam suporte à criação de redes sociais. Durante a pesquisa realizada para constatar as características de cada plataforma, percebeu-se que as plataformas feitas a partir da linguagem de programação PHP são predominantes. Porém, no intuito de focar nas plataformas que fornecem suporte para outras linguagens, foram apresentadas apenas cinco das plataformas que fornecem suporte ao PHP, dando assim um maior enfoque nos diferentes tipos de linguagens.

Uma outra característica importante que foi observada na comparação é que os componentes customizáveis que as plataformas afirmam possuir são, em sua maioria, via interface gráfica. Em poucas plataformas é possível a customização via código, sendo, nesses casos, a maior parte feita via construção de \textit{plugins}.

\newpage

\begin{table}[]
\centering
\caption{Comparação entre os trabalhos relacionados}
\label{comparacao}
\begin{adjustbox}{width=\textwidth}
\begin{tabular}{@{}llllll@{}}
\toprule
\textbf{Rede Social}  & \textbf{Licença} & \textbf{Preço}        & \textbf{Linguagem}  & \textbf{Customizável}                                    \\ \midrule
SocialEngine          & Customizada      & A partir de \$ 299,99 & PHP                 & Sim                                                      \\
Elgg                  & GPL 2.0          & Grátis                & PHP                 & Extensível via plugins e com uma API flexível            \\
XOOPS                 & GPL 2.0          & Grátis                & PHP                 & Extensível via módulos                                   \\
mooSocial             & Customizada      & A partir de \$ 149,99 & PHP                 &                                                          \\
Anahita Social Engine & GPL 2.0          & Grátis                & PHP                 & Sim                                                      \\
Telligent Community   & Customizada      & Grátis com limitações & ASP .NET            & Extensível via plugins, widgets, tarefas, eventos e REST \\
Newebe                & AGPL             & Grátis                & Python/Coffeescript & Sim                                                      \\
Buddycloud            & Apache 2.0       & Grátis                & NodeJS/Java         & Sim                                                      \\
eXo Platform          & LGPL             & Grátis                & Java                & Extensível via plugins e com uma API flexível            \\
Kune                  & AGPLv3           & Grátis                & Java                & Extensível via widgets e módulos                         \\
Diaspora              & AGPLv3           & Grátis                & Ruby                & Sim                                                      \\
Insoshi               & MIT              & Grátis                & Ruby                & Sim                                                      \\
Libertree             & AGPLv3           & Grátis                & Ruby                & Sim                                                      \\ \bottomrule
\end{tabular}
\end{adjustbox}
\end{table}

Existem também alguns \textit{frameworks} semelhantes desenvolvidos em \textit{Ruby}\footnote{\url{https://www.ruby-toolbox.com/categories/social_networking}}. Estes, em sua maioria, fornecem recursos a desenvolvedores, porém apenas a parte geral de relacionamento de usuários. A seguir é possível visualizar, na Figura \ref{ruby_social_network}, uma comparação da popularidade desses \textit{frameworks}. O cálculo da popularidade é feito com base na quantidade de observadores e de \textit{forks} que o repositório do \textit{framework} possui.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.45]{figuras/capitulo3/ruby_social_network.eps}
	\caption{Popularidade dos \textit{Frameworks} em \textit{Ruby}}
	\label{ruby_social_network}
\end{figure}

\section{Resumo do Capítulo}

Este capítulo descreveu a proposta deste trabalho apresentando seus pontos principais e alguns detalhes técnicos.

A partir desse escopo inicial, e da prova de conceito realizada, desenvolveu-se um \textit{framework}  capaz de auxiliar interessados no desenvolvimento de redes sociais, das funcionalidades básicas às específicas dos domínios de rota e agenda, e esse será apresentado no próximo capítulo.
